(function(t){function e(e){for(var n,c,o=e[0],a=e[1],l=e[2],d=0,f=[];d<o.length;d++)c=o[d],r[c]&&f.push(r[c][0]),r[c]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,o=1;o<i.length;o++){var a=i[o];0!==r[a]&&(n=!1)}n&&(s.splice(e--,1),t=c(c.s=i[0]))}return t}var n={},r={1:0},s=[];function c(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.m=t,c.c=n,c.d=function(t,e,i){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(i,n,function(e){return t[e]}.bind(null,n));return i},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],a=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=a;s.push([15,0]),i()})({"/Wjg":function(t,e,i){},15:function(t,e,i){t.exports=i("Vtdi")},"36BJ":function(t,e,i){"use strict";var n=i("j0xB"),r=i.n(n);r.a},"4Ozo":function(t,e,i){},"4jWl":function(t,e,i){},"C/W2":function(t,e,i){"use strict";var n=i("mk1c"),r=i.n(n);r.a},"E/eg":function(t,e,i){"use strict";var n=i("nuch"),r=i.n(n);r.a},"F+nb":function(t,e,i){"use strict";var n=i("Ph+G"),r=i.n(n);r.a},FeC1:function(t,e,i){"use strict";var n=i("q8ao"),r=i.n(n);r.a},"I/xo":function(t,e,i){},JLDE:function(t,e,i){},PbQS:function(t,e,i){},"Ph+G":function(t,e,i){},Q3SR:function(t,e,i){"use strict";var n=i("I/xo"),r=i.n(n);r.a},UNDU:function(t,e,i){"use strict";var n=i("d487"),r=i.n(n);r.a},Vtdi:function(t,e,i){"use strict";i.r(e);i("VRzm");var n=i("Kw5r"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},s=[],c={data:function(){return{}},mounted:function(){}},o=c,a=(i("YlPQ"),i("KHd+")),l=Object(a["a"])(o,r,s,!1,null,"0ea4fbf4",null),u=l.exports,d=i("jE9Z"),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("HomeHeader"),i("HomeSwiper",{attrs:{swiper:t.swiper}}),i("HomeCategory",{attrs:{iconList:t.iconList}}),i("HomeSales",{attrs:{homeHotSaleList:t.homeHotSaleList}}),i("HomeWeek",{attrs:{weekendList:t.weekendList}})],1)},h=[],p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("div",{staticClass:"header-left"},[i("BaseIcon",{attrs:{iconText:"icon-fanhui"}})],1),i("div",{staticClass:"header-input"},[i("input",{attrs:{placeholder:"输入城市/景点/游玩主题",type:"text"}}),i("BaseIcon",{staticClass:"header-icon-search",attrs:{iconText:"icon-sousuo"}})],1),i("div",{staticClass:"header-right",on:{click:function(e){t.$router.push("/city")}}},[t._v("\n    城市网\n    "),i("BaseIcon",{attrs:{iconText:"icon-jiantou"}})],1)])},m=[],v={name:"TopHeader",mounted:function(){}},y=v,g=(i("zvnv"),Object(a["a"])(y,p,m,!1,null,null,null)),C=g.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-swiper"},[i("swiper",{attrs:{options:t.swiperOption}},[t._l(t.swiper,function(t){return i("swiper-slide",{key:t.id},[i("img",{attrs:{src:t.imgUrl,alt:""}})])}),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)},H=[],b={name:"HomeSwiper",props:{swiper:{type:Array,required:!0}},data:function(){return{swiperOption:{pagination:{el:".swiper-pagination"},loop:!0,autoplay:{delay:2500,disableOnInteraction:!1}}}}},x=b,w=(i("c/kq"),Object(a["a"])(x,_,H,!1,null,"91c10026",null)),L=w.exports,k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-category"},[i("swiper",t._l(t.pages,function(e,n){return i("swiper-slide",{key:n},[i("div",{staticClass:"category-container"},t._l(e,function(e){return i("div",{key:e.id,staticClass:"item"},[i("img",{staticClass:"item-img",attrs:{src:e.imgUrl,alt:""}}),i("p",[t._v(t._s(e.desc))])])}))])}))],1)},S=[],j=(i("rGqo"),{name:"HomeCategory",props:{iconList:{type:Array,required:!0}},computed:{pages:function(){var t=[];return this.iconList.forEach(function(e,i){var n=Math.floor(i/8);t[n]||(t[n]=[]),t[n].push(e)}),t}}}),O=j,T=(i("FeC1"),Object(a["a"])(O,k,S,!1,null,"cc301220",null)),$=T.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hot-sales"},[i("div",{staticClass:"title"},[t._v("\n    热销推荐\n  ")]),i("ul",{staticClass:"hot-sales-content"},t._l(t.homeHotSaleList,function(e){return i("li",{key:e.id,staticClass:"hot-sales-item"},[i("div",{staticClass:"left-img"},[i("img",{attrs:{src:e.imgUrl,alt:""}})]),i("div",{staticClass:"right-text"},[i("h3",{staticClass:"text-title"},[t._v(t._s(e.title))]),i("p",{staticClass:"text-content"},[t._v(t._s(e.desc))]),i("p",{staticClass:"text-detail"},[t._v("查看详情")])])])}))])},P=[],q={name:"HomeHotSales",props:{homeHotSaleList:{type:Array,required:!0}}},I=q,B=(i("F+nb"),Object(a["a"])(I,E,P,!1,null,"03857893",null)),R=B.exports,W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-weekend"},[i("div",{staticClass:"title"},[t._v("\n    周末去哪儿\n  ")]),t._l(t.weekendList,function(e){return i("div",{key:e.id,staticClass:"weekend-item"},[i("div",{staticClass:"item-img"},[i("img",{attrs:{src:e.imgUrl,alt:""}})]),i("p",{staticClass:"item-title"},[t._v(t._s(e.title))]),i("p",{staticClass:"item-content"},[t._v(t._s(e.desc))])])})],2)},U=[],z={name:"HomeWeekend",props:{weekendList:{type:Array,required:!0}}},A=z,F=(i("C/W2"),Object(a["a"])(A,W,U,!1,null,"296911c0",null)),D=F.exports,M=i("vDqi"),J=i.n(M),Q={HTTP_SERVER:"https://easy-mock.com/mock/5b2e15c2d901cc25e7df4e0c",HTTP_PREFIX:"/travel"},V=J.a.create({baseURL:"".concat(Q.HTTP_SERVER).concat(Q.HTTP_PREFIX),timeout:8e3});V.interceptors.request.use(function(t){return t},function(t){return Promise.reject(t)}),V.interceptors.response.use(function(t){return t.data},function(t){return Promise.reject(t)});var Y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post";return function(i,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};V({method:e,url:t,data:i}).then(function(t){return n(t)},function(t){return r(t)})}},G=Y,K=G("/home","post"),N=G("/city","post"),Z={name:"Home",data:function(){return{swiper:[],iconList:[],homeHotSaleList:[],weekendList:[]}},components:{HomeHeader:C,HomeSwiper:L,HomeCategory:$,HomeSales:R,HomeWeek:D},mounted:function(){this.getList()},methods:{getList:function(){var t=this;K({},function(e){var i=e.data;t.swiper=i.swiperList,t.iconList=i.iconList,t.homeHotSaleList=i.recommendList,t.weekendList=i.weekendList})}}},X=Z,tt=(i("p1HL"),Object(a["a"])(X,f,h,!1,null,null,null)),et=tt.exports,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"city"},[i("CityHeader"),i("CityList",{attrs:{hotCities:t.hotCities,cities:t.cities,position:t.position},on:{letterScroll:function(e){t.activeIndex=e}}}),i("CityLetter",{attrs:{letterList:t.letterList,activeIndex:t.activeIndex},on:{letterPosition:t.letterPosition}})],1)},nt=[],rt=(i("yt8O"),i("RW0V"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"cityHeader",staticClass:"city-header"},[i("div",{staticClass:"city-header-top"},[i("BaseIcon",{staticClass:"city-back",attrs:{iconText:"icon-fanhui"},nativeOn:{click:function(e){t.$router.go(-1)}}}),i("h2",[t._v("城市选择")])],1),t._m(0)])}),st=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"city-header-input"},[i("input",{attrs:{type:"text",placeholder:"输入城市名或拼音"}})])}],ct={name:"CityHeader",mounted:function(){this.$bus.$emit("cityHeaderHeight",this.$refs.cityHeader.clientHeight)}},ot=ct,at=(i("UNDU"),Object(a["a"])(ot,rt,st,!1,null,"1d3dc4db",null)),lt=at.exports,ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"wrapper",staticClass:"city-list"},[i("div",{staticClass:"content"},[i("div",{staticClass:"city-current"},[i("h2",{staticClass:"city-title"},[t._v("当前城市")]),i("div",{staticClass:"city-box"},[i("p",[t._v(t._s(t.currentCity))])])]),i("div",{staticClass:"city-hot"},[i("div",{staticClass:"city-title"},[t._v("\n        热门城市\n      ")]),i("div",{staticClass:"city-box"},t._l(t.hotCities,function(e){return i("p",{key:e.id},[t._v("\n          "+t._s(e.name)+"\n        ")])}))]),t._l(t.cities,function(e,n){return i("div",{key:n,ref:n,refInFor:!0,staticClass:"city-content"},[i("div",{staticClass:"city-title"},[t._v(t._s(n))]),t._l(e,function(e){return i("div",{key:e.id,staticClass:"city-content-list",on:{click:function(i){t.currentCity=e.name}}},[t._v("\n      "+t._s(e.name)+"\n      ")])})],2)})],2)])},dt=[],ft=i("H7qB"),ht={props:{cities:{type:Object,required:!0},hotCities:{type:Array,required:!0},position:{type:String,required:!0}},data:function(){return{currentCity:"阿坝"}},mounted:function(){var t=this;this.$nextTick(function(){t.initScroll()})},computed:{calculateHeight:function(){for(var t=[],e=document.querySelector(".city-current"),i=document.querySelector(".city-hot"),n=e.clientHeight+i.clientHeight,r=document.querySelectorAll(".city-content"),s=0;s<r.length;s++)t.push(n),n+=r[s].clientHeight;return t}},watch:{position:function(t,e){if(t){var i=this.$refs[t];this.scroll.scrollToElement(i[0],200,0,0)}}},methods:{initScroll:function(){this.scroll=new ft["a"](this.$refs.wrapper,{probeType:3}),this.scroll.on("scroll",this.onScroll)},onScroll:function(t){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){for(var i=-t.y,n=0;n<e.calculateHeight.length;n++){if(i<Math.floor(e.calculateHeight[n]-3))return void e.$emit("letterScroll",n-1);i>e.calculateHeight[e.calculateHeight.length-1]-3&&e.$emit("letterScroll",n)}},16)}}},pt=ht,mt=(i("E/eg"),Object(a["a"])(pt,ut,dt,!1,null,"147be6ec",null)),vt=mt.exports,yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"city-letter"},[i("ul",t._l(t.letterList,function(e,n){return i("li",{key:n,ref:e,refInFor:!0,class:{active:n===t.activeIndex},on:{click:function(i){t.handleClick(e)},touchstart:t.touchstart,touchmove:t.touchmove,touchend:t.touchend}},[t._v("\n      "+t._s(e)+"\n    ")])}))])},gt=[],Ct=(i("xfY5"),{name:"CityLetter",props:{letterList:{type:Array,required:!0},activeIndex:{type:Number,required:!0}},data:function(){return{cityHeaderHeight:0,startHeight:0,liHeight:0}},created:function(){var t=this;this.$bus.$on("cityHeaderHeight",function(e){t.cityHeaderHeight=e})},updated:function(){var t=this.$refs["A"][0];this.liHeight=t.clientHeight,this.startHeight=t.offsetTop+this.cityHeaderHeight},methods:{handleClick:function(t){this.$emit("letterPosition",t)},touchstart:function(){this.touchStatus=!0},touchmove:function(t){var e=this;this.touchStatus&&(this.timer&&clearTimeout(this.clearTimeout),this.timer=setTimeout(function(){var i=t.changedTouches[0],n=Math.floor((i.clientY-e.startHeight)/e.liHeight);n>=0&&n<e.letterList.length&&e.$emit("letterPosition",e.letterList[n])},16))},touchend:function(){this.touchStatus=!1}}}),_t=Ct,Ht=(i("Q3SR"),Object(a["a"])(_t,yt,gt,!1,null,"144ca16a",null)),bt=Ht.exports,xt={name:"City",components:{CityHeader:lt,CityList:vt,CityLetter:bt},data:function(){return{cities:{},hotCities:[],letterList:[],position:"",activeIndex:-1}},mounted:function(){this.getList()},methods:{getList:function(){var t=this;N({},function(e){t.cities=e.data.cities,t.hotCities=e.data.hotCities,t.letterList=Object.keys(t.cities)})},letterPosition:function(t){this.position=t}}},wt=xt,Lt=(i("36BJ"),Object(a["a"])(wt,it,nt,!1,null,"0abfe4b2",null)),kt=Lt.exports;n["a"].use(d["a"]);var St=[{path:"/",component:et,redirect:"/home"},{path:"/home",component:et,name:"首页"},{path:"/city",component:kt,name:"城市选择"}],jt=new d["a"]({routes:St}),Ot=i("/jzl"),Tt=i.n(Ot),$t=i("chKg"),Et=i.n($t),Pt=(i("36R9"),i("PbQS"),i("4jWl"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"base-icon"},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":t.handleIconText}})])])}),qt=[],It={name:"BaseIcon",props:{iconText:{type:String,required:!0}},computed:{handleIconText:function(){return"#".concat(this.iconText)}}},Bt=It,Rt=(i("zBZD"),Object(a["a"])(Bt,Pt,qt,!1,null,"385d9d40",null)),Wt=Rt.exports;Tt.a.attach(document.body),n["a"].use(Et.a),n["a"].prototype.$bus=new n["a"],n["a"].component("BaseIcon",Wt),n["a"].config.productionTip=!1,n["a"].component(),new n["a"]({router:jt,render:function(t){return t(u)}}).$mount("#app")},YlPQ:function(t,e,i){"use strict";var n=i("nLyb"),r=i.n(n);r.a},"c/kq":function(t,e,i){"use strict";var n=i("/Wjg"),r=i.n(n);r.a},d487:function(t,e,i){},j0xB:function(t,e,i){},mk1c:function(t,e,i){},nLyb:function(t,e,i){},nuch:function(t,e,i){},p1HL:function(t,e,i){"use strict";var n=i("4Ozo"),r=i.n(n);r.a},q8ao:function(t,e,i){},"rv+H":function(t,e,i){},zBZD:function(t,e,i){"use strict";var n=i("rv+H"),r=i.n(n);r.a},zvnv:function(t,e,i){"use strict";var n=i("JLDE"),r=i.n(n);r.a}});
//# sourceMappingURL=app.e194eaf6.js.map